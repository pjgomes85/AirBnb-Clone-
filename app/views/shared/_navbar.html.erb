<div class="navbar navbar-expand-sm navbar-light navbar-lewagon">
  <div class="container-fluid">
    <%= link_to root_path, class: "navbar-brand" do %>
      <%= image_tag "logo.png", class: "logo" %>
    <% end %>


    <div class="flex-item" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto">
        <% if user_signed_in? %>
          <li class="nav-item active">
            <%= link_to "Become a Host", new_room_path, class: "nav-link"  %>
          </li>

          <li class="nav-item dropdown">
          <% if current_user.avatar.attached? %>
            <%= cl_image_tag avatar_url(current_user), class: "avatar dropdown-toggle", id: "navbarDropdown", data: { bs_toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
            <% else %>
               <%= image_tag avatar_url1(current_user), class: "avatar dropdown-toggle", id: "navbarDropdown", data: { bs_toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
               <% end %>

            <div class="dropdown">
              <button class="dropbtn"  onclick="myFunction()"><i class="fa-solid fa-bars"></i></button>
                <div class="dropdown-content" id="myDIV">
                <%= link_to "Your Listings", rooms_path %>
                <%= link_to "Your Reservations", your_reservations_path %>
                <%# <%= link_to "Your trips",  your_trips_path , class: "dropdown-item" %>
                <hr class="solid">
                <%= link_to "My Profile", user_path(current_user.id) %>
                <%= link_to "Edit Profile", edit_user_registration_path %>
                <%= link_to "Log out", destroy_user_session_path, data: {turbo_method: :delete} %>
                </div>
              </div>
            </div>
          </li>
        <% else %>
          <li class="nav-item">
            <ul>
              <%= link_to "Register", new_user_registration_path, class: "nav-link" %>
              <%= link_to "Login", new_user_session_path, class: "nav-link" %>
            </ul>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>




<style>
.dropbtn {

  color: white;
  padding: 16px;
  font-size: 16px;
  border: none;
}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

.dropdown-content a:hover {background-color: #ddd;}

.dropdown:hover .dropdown-content {display: block;}

.dropdown:hover .dropbtn {background-color: #3e8e41;}
</style>

<script>
function myFunction() {
  var x = document.getElementById("myDIV");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script>
